;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="926201a1-84bc-0867-c00e-c3e4e9ae5b93")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,706645,324141,651786,16624,653833,378469,e=>{"use strict";let t;var r=e.i(708347),i=e.i(318459),s=e.i(87147),n=e.i(423216),a=e.i(159337),o=e.i(879994),l=e.i(457765),c=class extends n.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#i=void 0;#s=void 0;#n=void 0;#a;#o;#r;#t;#l;#c;#u;#d;#h;#p;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#i.addObserver(this),u(this.#i,this.options)?this.#g():this.updateResult(),this.#m())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#i,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#i,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#x(),this.#i.removeObserver(this)}setOptions(e){let t=this.options,r=this.#i;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#i))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#i.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#i,observer:this});let i=this.hasListeners();i&&h(this.#i,r,this.options,t)&&this.#g(),this.updateResult(),i&&(this.#i!==r||(0,o.resolveEnabled)(this.options.enabled,this.#i)!==(0,o.resolveEnabled)(t.enabled,this.#i)||(0,o.resolveStaleTime)(this.options.staleTime,this.#i)!==(0,o.resolveStaleTime)(t.staleTime,this.#i))&&this.#S();let s=this.#b();i&&(this.#i!==r||(0,o.resolveEnabled)(this.options.enabled,this.#i)!==(0,o.resolveEnabled)(t.enabled,this.#i)||s!==this.#p)&&this.#R(s)}getOptimisticResult(e){var t,r;let i=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(i,e);return t=this,r=s,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=s,this.#o=this.options,this.#a=this.#i.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#i}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#g({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#g(e){this.#v();let t=this.#i.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#S(){this.#y();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#i);if(o.isServer||this.#n.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#d=l.timeoutManager.setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#b(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#i):this.options.refetchInterval)??!1}#R(e){this.#x(),this.#p=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#i)&&(0,o.isValidTimeout)(this.#p)&&0!==this.#p&&(this.#h=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#g()},this.#p))}#m(){this.#S(),this.#R(this.#b())}#y(){this.#d&&(l.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#x(){this.#h&&(l.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,i=this.#i,n=this.options,l=this.#n,c=this.#a,d=this.#o,f=e!==i?e.state:this.#s,{state:g}=e,m={...g},y=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&u(e,t),o=r&&h(e,i,t,n);(a||o)&&(m={...m,...(0,s.fetchState)(g.data,e.options)}),"isRestoring"===t._optimisticResults&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:S}=m;r=m.data;let b=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===S){let e;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=l.data,b=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(S="success",r=(0,o.replaceData)(l?.data,e,t),y=!0)}if(t.select&&void 0!==r&&!b)if(l&&r===c?.data&&t.select===this.#l)r=this.#c;else try{this.#l=t.select,r=t.select(r),r=(0,o.replaceData)(l?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(x=this.#t,r=this.#c,v=Date.now(),S="error");let R="fetching"===m.fetchStatus,k="pending"===S,j="error"===S,C=k&&R,T=void 0!==r,I={status:S,fetchStatus:m.fetchStatus,isPending:k,isSuccess:"success"===S,isError:j,isInitialLoading:C,isLoading:C,data:r,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:R,isRefetching:R&&!k,isLoadingError:j&&!T,isPaused:"paused"===m.fetchStatus,isPlaceholderData:y,isRefetchError:j&&T,isStale:p(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===I.status?e.reject(I.error):void 0!==I.data&&e.resolve(I.data)},r=()=>{t(this.#r=I.promise=(0,a.pendingThenable)())},s=this.#r;switch(s.status){case"pending":e.queryHash===i.queryHash&&t(s);break;case"fulfilled":("error"===I.status||I.data!==s.value)&&r();break;case"rejected":("error"!==I.status||I.error!==s.reason)&&r()}}return I}updateResult(){let e=this.#n,t=this.createResult(this.#i,this.options);if(this.#a=this.#i.state,this.#o=this.options,void 0!==this.#a.data&&(this.#u=this.#i),(0,o.shallowEqualObjects)(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#f.size)return!0;let i=new Set(r??this.#f);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&i.has(t))};this.#k({listeners:r()})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#i)return;let t=this.#i;this.#i=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#m()}#k(e){i.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#i,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof r?r(e):r;return"always"===i||!1!==i&&p(e,t)}return!1}function h(e,t,r,i){return(e!==t||!1===(0,o.resolveEnabled)(i.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&p(e,r)}function p(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.s(["QueryObserver",()=>c],706645),e.i(475010);var f=e.i(263737),g=e.i(940948);e.i(540104);var m=f.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),y=()=>f.useContext(m);e.s(["useQueryErrorResetBoundary",()=>y],324141);var x=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},v=e=>{f.useEffect(()=>{e.clearReset()},[e])},S=({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&void 0===e.data||(0,o.shouldThrowError)(r,[e.error,i]));e.s(["ensurePreventErrorBoundaryRetry",()=>x,"getHasError",()=>S,"useClearResetErrorBoundary",()=>v],651786);var b=f.createContext(!1),R=()=>f.useContext(b);b.Provider,e.s(["useIsRestoring",()=>R],16624);var k=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},j=(e,t)=>e.isLoading&&e.isFetching&&!t,C=(e,t)=>e?.suspense&&t.isPending,T=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function I(e,t,r){let s=R(),n=y(),a=(0,g.useQueryClient)(r),l=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",k(l),x(l,n),v(n);let c=!a.getQueryCache().get(l.queryHash),[u]=f.useState(()=>new t(a,l)),d=u.getOptimisticResult(l),h=!s&&!1!==e.subscribed;if(f.useSyncExternalStore(f.useCallback(e=>{let t=h?u.subscribe(i.notifyManager.batchCalls(e)):o.noop;return u.updateResult(),t},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),f.useEffect(()=>{u.setOptions(l)},[l,u]),C(l,d))throw T(l,u,n);if(S({result:d,errorResetBoundary:n,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!o.isServer&&j(d,s)){let e=c?T(l,u,n):a.getQueryCache().get(l.queryHash)?.promise;e?.catch(o.noop).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?d:u.trackResult(d)}e.s(["ensureSuspenseTimers",()=>k,"fetchOptimistic",()=>T,"shouldSuspend",()=>C,"willFetch",()=>j],653833),e.s(["useBaseQuery",()=>I],378469)},816941,e=>{"use strict";var t=e.i(706645),r=e.i(378469);function i(e,i){return(0,r.useBaseQuery)(e,t.QueryObserver,i)}e.s(["useQuery",()=>i])},244555,e=>{"use strict";e.i(924995);var t=e.i(2382),r=e.i(840171),i=e.i(816941),s=e.i(940948);e.i(58843);var n=e.i(138388);let a=(0,n.createServerReference)("401e697cb20c89a502c71ea68460a843f5908ccd32",n.callServer,void 0,n.findSourceMapURL,"addBasketOmniCode");var o=e.i(561578);let l=(0,n.createServerReference)("00d7c0b5c6989c0c6547a5fd93846746aa1ffec62e",n.callServer,void 0,n.findSourceMapURL,"completeCheckoutWithCoins"),c=(0,n.createServerReference)("404f689ca297b7d1791f7140cf945531709bb640ce",n.callServer,void 0,n.findSourceMapURL,"getBasketInfo");var u=e.i(255666);let d=(0,n.createServerReference)("400b1ad972b3fdb7fd94544ccced3d8a3d51b442a0",n.callServer,void 0,n.findSourceMapURL,"removeBasketOmniCode");var h=e.i(302077);let p=(0,n.createServerReference)("00bbcab675ae8f93725ae70ae51c0ee3436504af23",n.callServer,void 0,n.findSourceMapURL,"logout");e.s(["useBasket",0,()=>{let e=(0,s.useQueryClient)(),n=(0,i.useQuery)({queryKey:["basket"],queryFn:async()=>c(!1)}),f=(0,r.useMutation)({mutationFn:o.addBasketPackage,onSuccess:r=>{(0,t.isHandledError)(r)||e.setQueryData(["basket"],r)}}),g=(0,r.useMutation)({mutationFn:u.giftBasketPackage,onSuccess:r=>{(0,t.isHandledError)(r)||e.setQueryData(["basket"],r)}}),m=(0,r.useMutation)({mutationFn:h.removeBasketPackage,onSuccess:r=>{(0,t.isHandledError)(r)||e.setQueryData(["basket"],r)}}),y=(0,r.useMutation)({mutationFn:a,onSuccess:r=>{(0,t.isHandledError)(r)||e.setQueryData(["basket"],r)}}),x=(0,r.useMutation)({mutationFn:d,onSuccess:r=>{(0,t.isHandledError)(r)||e.setQueryData(["basket"],r)}}),v=(0,r.useMutation)({mutationFn:p,onSuccess:t=>{e.removeQueries({queryKey:["basket"]}),window.location.href=t}}),S=(0,r.useMutation)({mutationFn:l});return{...n,addPackageMutation:f,giftPackageMutation:g,removePackageMutation:m,addCouponMutation:y,removeCouponMutation:x,checkoutWithCoinsMutation:S,logoutMutation:v,invalidateBasket:()=>{e.invalidateQueries({queryKey:["basket"]})},queryClient:e}}],244555)},501401,e=>{"use strict";var t=e.i(540104),r=e.i(822788);e.i(206727);var i=e.i(935);e.i(116233);var s=e.i(514650),n=e.i(181241);e.s(["RankLogo",0,({logoColor:e,rankName:a,plusColor:o,size:l="20px"})=>a&&"None"!==a?(0,t.jsxs)(n.Tooltip.Root,{closeDelay:150,openDelay:250,positioning:{placement:"top"},children:[(0,t.jsx)(n.Tooltip.Trigger,{asChild:!0,children:(0,t.jsx)("span",{className:(0,i.css)({display:"inline-flex",cursor:"help"}),children:(0,t.jsx)(r.LcLogoSolid,{color:e,height:l,plusColor:o,width:l})})}),(0,t.jsx)(n.Tooltip.Positioner,{children:(0,t.jsx)(n.Tooltip.Content,{children:(0,t.jsx)(s.Text,{children:a})})})]}):(0,t.jsx)(r.LcLogoSolid,{color:e,height:l,plusColor:o,width:l})],501401)},974884,e=>{"use strict";var t=e.i(540104),r=e.i(987445),i=e.i(263737);let s="storeSettings",n=(0,i.createContext)(void 0),a=e=>"both"===e||"coins"===e||"fiat"===e?e:"both";e.s(["SETTINGS_COOKIE_NAME",0,s,"SettingsProvider",0,e=>{let{getCookie:o,setCookie:l}=(0,r.useCookiesNext)(),c=o(s),[u,d]=(0,i.useState)(()=>a(c));return(0,i.useEffect)(()=>{let e=a(c);e!==u&&d(e)},[c,u]),(0,t.jsx)(n.Provider,{value:{priceDisplayMode:u,setPriceDisplayMode:e=>{d(e),l(s,e,{path:"/",maxAge:31536e3})}},children:e.children})},"useSettings",0,()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}])},835839,e=>{"use strict";e.s(["formattedPrice",0,(e,t="USD")=>e.toLocaleString("en-US",{style:"currency",currency:t})])},243426,e=>{"use strict";var t=e.i(540104);e.i(924995);var r=e.i(2382),i=e.i(821474),s=e.i(728442),n=e.i(840171),a=e.i(940948);e.i(131726);var o=e.i(981433),l=e.i(263737);e.i(307376);var c=e.i(613716),u=e.i(889700);e.i(116233);var d=e.i(514650);e.i(58843);var h=e.i(561578),p=e.i(255666),f=e.i(302077),g=e.i(387456);e.s(["usePackage",0,(e,m)=>{let[y,x]=(0,l.useState)(!1),{toastPromise:v}=(0,o.useToaster)(),S=(0,a.useQueryClient)(),b=(0,s.useRouter)(),R=(0,i.useSearchParams)(),k=(0,n.useMutation)({mutationFn:h.addBasketPackage,onSuccess:e=>{(0,r.isHandledError)(e)||S.setQueryData(["basket"],e)}}),j=(0,n.useMutation)({mutationFn:f.removeBasketPackage,onSuccess:e=>{(0,r.isHandledError)(e)||S.setQueryData(["basket"],e)}}),C=(0,n.useMutation)({mutationFn:p.giftBasketPackage,onSuccess:e=>{(0,r.isHandledError)(e)||S.setQueryData(["basket"],e)}});return(0,l.useEffect)(()=>{x(m?.items?.some(t=>t.id===e?.id&&t.quantity>t.gifts.length)??!1)},[m?.items]),{addPackageMutation:k,removePackageMutation:j,giftPackageMutation:C,handleAddToBasket:i=>{e&&(m?v(()=>k.mutateAsync({packageId:e.id,addedVia:i}),{loading:{title:"Adding to Basket..."},success:i=>(0,r.isHandledError)(i)?{title:"Could not add to Basket",description:i.error}:{title:e&&(0,t.jsxs)(u.HStack,{children:[(0,t.jsx)(c.Box,{h:"2.5rem",w:"2.5rem",children:(0,t.jsx)(g.ProductMedia,{isSmall:!0,productName:{name:e.name},src:e.image})}),(0,t.jsxs)(d.Text,{children:["Added ",e.name," to basket"]})]})},error:e=>({title:"Unexpected Error",description:String(e)})}):b.push("/login?alert=basket",{scroll:!1}))},handleRemoveFromBasket:i=>{if(!e)return;let s="string"==typeof i?`/remove?id=${e.id}&uuid=${i}`:`/remove?id=${e.id}`,n=R.get("id"),a=R.get("uuid");n?v(()=>j.mutateAsync({packageId:e?.id,type:"single",giftTarget:a??void 0}),{loading:{title:"Removing from Basket..."},success:i=>(b.back(),(0,r.isHandledError)(i))?{title:"Could not remove from Basket",description:i.error}:{title:e&&(0,t.jsxs)(u.HStack,{children:[(0,t.jsx)(c.Box,{h:"2.5rem",w:"2.5rem",children:(0,t.jsx)(g.ProductMedia,{isSmall:!0,productName:{name:e.name},src:e.image})}),(0,t.jsxs)(d.Text,{children:["Removed ",e.name," from basket"]})]})},error:e=>({title:"Unexpected Error",description:String(e)})}):b.push(s,{scroll:!1})},handleGift:(i,s)=>{e&&(R.get("id")&&s?v(()=>C.mutateAsync({packageId:e?.id,body:{message:s.message,anonymous:s.anonymous,targetUsername:s.gifteeUsername,quantity:1,addedVia:i}},{onSettled:()=>{b.back()}}),{loading:{title:"Adding Gift to Basket..."},success:i=>(0,r.isHandledError)(i)?{title:"Could not add to Basket",description:i.error}:{title:e&&(0,t.jsxs)(u.HStack,{children:[(0,t.jsx)(c.Box,{h:"2.5rem",w:"2.5rem",children:(0,t.jsx)(g.ProductMedia,{isSmall:!0,productName:{name:e.name},src:e.image})}),(0,t.jsxs)(d.Text,{children:["Added ",e.name," Gift to basket"]})]})},error:e=>({title:"Unexpected Error",description:String(e)})}):m?.authenticated?b.push(`/gift?id=${e.id}&addedVia=${i}`,{scroll:!1}):b.push("/login?alert=microsoft",{scroll:!1}))},isInBasket:y}}])},696455,18579,e=>{"use strict";var t=e.i(540104),r=e.i(822788),i=e.i(492076),s=e.i(728442),n=e.i(263737);e.i(206727);var a=e.i(935);e.i(307376);var o=e.i(889700),l=e.i(947649);e.i(116233);var c=e.i(702546),u=e.i(638840),d=e.i(514650),h=e.i(181241),p=e.i(311107),f=e.i(501401);let g=e=>(0,t.jsxs)(o.HStack,{_hover:e.isEditable?{opacity:.8}:void 0,cursor:e.isEditable?"pointer":"default",gap:"0.5rem",transition:"opacity",children:[(0,t.jsx)(c.Icon,{color:"gold.9!",icon:r.PiGiftStarSolid,width:"1rem"}),(0,t.jsxs)(o.HStack,{gap:"0.25rem",children:[(0,t.jsx)(i.default,{alt:e.username,className:(0,a.css)({bg:"gray.2",borderRadius:"0.25rem",imageRendering:"pixelated"}),height:18,src:`https://skins.mcstats.com/face/${e.uuid}`,width:18}),e.rankColor&&(0,t.jsx)(f.RankLogo,{logoColor:e.rankColor,plusColor:e.plusColor,rankName:e.rankName,size:"16px"}),(0,t.jsx)(d.Text,{color:"gray.text",fontWeight:"bold",size:"sm",children:e.username}),e.badge&&(0,t.jsx)(p.PlayerBadge,{image:e.badge.image,name:e.badge.name}),e.anonymous&&(0,t.jsx)(c.Icon,{color:"gray.10",icon:r.PiIncognitoSolid,width:"0.875rem"})]})]}),m=e=>(0,t.jsxs)(l.VStack,{alignItems:"start",gap:"0.25rem",maxW:"200px",children:[e.message?(0,t.jsxs)(d.Text,{css:{wordBreak:"break-word"},size:"sm",children:["“",e.message,"”"]}):(0,t.jsx)(d.Text,{fontStyle:"italic",opacity:.7,size:"sm",children:"No message"}),e.anonymous&&(0,t.jsxs)(o.HStack,{gap:"0.25rem",opacity:.7,children:[(0,t.jsx)(c.Icon,{icon:r.PiIncognitoSolid,width:"0.75rem"}),(0,t.jsx)(d.Text,{size:"xs",children:"Anonymous"})]})]});e.s(["ProductGifting",0,e=>{let i=(0,s.useRouter)(),[a,l]=(0,n.useState)(!1);return e.isEditable?(0,t.jsxs)(h.Tooltip.Root,{closeDelay:150,onOpenChange:e=>l(e.open),open:a,openDelay:250,children:[(0,t.jsxs)(u.Menu.Root,{onOpenChange:()=>l(!1),children:[(0,t.jsx)(h.Tooltip.Trigger,{asChild:!0,children:(0,t.jsx)("span",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,t.jsx)(u.Menu.Trigger,{asChild:!0,children:(0,t.jsx)("span",{children:(0,t.jsx)(g,{...e})})})})}),(0,t.jsx)(u.Menu.Positioner,{children:(0,t.jsx)(u.Menu.Content,{children:(0,t.jsxs)(u.Menu.ItemGroup,{children:[(0,t.jsx)(u.Menu.Item,{onClick:()=>{i.push(`/edit-gift-options?id=${e.packageId}&uuid=${e.uuid}`,{scroll:!1})},value:"edit-options",children:(0,t.jsxs)(o.HStack,{gap:2,children:[(0,t.jsx)(r.PiPencilEditSolid,{height:"16px",width:"16px"}),(0,t.jsx)(d.Text,{children:"Edit Options"})]})}),(0,t.jsx)(u.Menu.Item,{onClick:()=>{i.push(`/edit-gift-recipient?id=${e.packageId}&uuid=${e.uuid}`,{scroll:!1})},value:"edit-recipient",children:(0,t.jsxs)(o.HStack,{gap:2,children:[(0,t.jsx)(r.PiUserUser01Solid,{height:"16px",width:"16px"}),(0,t.jsx)(d.Text,{children:"Edit Recipient"})]})})]})})})]}),(0,t.jsx)(h.Tooltip.Positioner,{children:(0,t.jsx)(h.Tooltip.Content,{children:(0,t.jsx)(m,{...e})})})]}):(0,t.jsx)(g,{...e})}],696455);var y=e.i(524713),x=e.i(171365),v=e.i(532642),S=e.i(770048);let b=(0,S.styled)(v.GridItem,{base:{width:"auto",display:"flex",alignItems:"center",overflow:"hidden"}}),R=(0,S.styled)(x.Grid,(0,y.cva)({base:{width:"full",gap:"0.25rem"},variants:{isStacked:{true:{gridTemplateColumns:"1fr"},false:{justifyContent:"space-between"}},layout:{auto:{},centered:{},gifting:{},centeredGifting:{}}},compoundVariants:[{isStacked:!1,layout:"auto",css:{"& div:nth-of-type(1)":{gridRow:1,gridColumn:2,justifySelf:"end"}}},{isStacked:!1,layout:"centered",css:{"& div:nth-of-type(3)":{gridRow:"1 / span 2",gridColumn:2,justifySelf:"end"}}},{isStacked:!1,layout:"gifting",css:{"& div:nth-of-type(1)":{gridRow:2,gridColumn:2,justifySelf:"end"},"& div:nth-of-type(4)":{gridRow:1,gridColumn:2,justifySelf:"end"}}},{isStacked:!1,layout:"centeredGifting",css:{"& div:nth-of-type(1)":{gridRow:2,gridColumn:2,justifySelf:"end"},"& div:nth-of-type(2)":{gridRow:"1 / span 2"},"& div:nth-of-type(4)":{gridRow:1,gridColumn:2,justifySelf:"end"}}}],defaultVariants:{isStacked:!0}}));e.s(["StyledGrid",0,R,"StyledGridItem",0,b],18579)},682496,e=>{"use strict";var t=e.i(540104),r=e.i(822788);e.i(116233);var i=e.i(702546),s=e.i(514650),n=e.i(974884),a=e.i(835839);e.s(["Pricing",0,e=>{let{priceDisplayMode:o}=(0,n.useSettings)(),l=void 0!==e.price,c=void 0!==e.coins,u=e.hideDollars??!1,d=e.hideCoins??!1;return u||d||("coins"===o?u=c:"fiat"===o&&(d=l)),(0,t.jsx)(s.Text,{as:"span",fontWeight:"bold",size:e.isPackage?"xl":"md",textAlign:e.isSmall?"center":"left",w:"fit",children:(0,t.jsxs)(s.Text,{alignItems:"center",as:"span",display:"inline-flex",flexWrap:"wrap",gap:"4px",justifyContent:"center",children:[!u&&e.discountedPrice!==e.price&&(0,t.jsx)(s.Text,{as:"span",color:"red.10",textDecoration:"line-through",children:(0,a.formattedPrice)(e.discountedPrice??0,e.currency)}),!u&&(0,t.jsx)(s.Text,{as:"span",color:e.isPackage?"gray.text":"gray.11",children:(0,a.formattedPrice)(e.price??0,e.currency)}),!(u||d)&&e.coins&&(0,t.jsx)(s.Text,{alignItems:"center",as:"span",color:"gray.10",display:"inline-flex",gap:"4px",children:"or"}),e.coins&&!d&&(0,t.jsxs)(s.Text,{alignItems:"center",as:"span",color:"gold.9",display:"inline-flex",gap:"4px",children:[(0,t.jsx)(i.Icon,{color:"gold.9",display:"inline",icon:r.PiTokenSolid,width:"1rem"})," ",e.coins]})]})})}])},802759,e=>{"use strict";var t=e.i(540104),r=e.i(822788),i=e.i(263737);e.i(206727);var s=e.i(935);e.i(307376);var n=e.i(839116);e.i(116233);var a=e.i(702546),o=e.i(514650),l=e.i(181241),c=e.i(873649),u=e.i(889700),d=e.i(286376),h=e.i(696455),p=e.i(18579),f=e.i(268189),g=e.i(682496);let m=e=>{let r=()=>{let t=!(e.productGifting||e.badge),r=e.productGifting&&!e.productCollection;return t?"centered":r?"centeredGifting":e.productGifting?"gifting":"auto"},i=e.productGifting?.isEditable;if(e.isSmall)return(0,t.jsx)(c.default,{className:(0,s.css)({w:"fit"}),href:e.href??"",onClick:t=>!e.href&&t.preventDefault(),prefetch:!1,children:(0,t.jsx)(g.Pricing,{...e.productPrice,isSmall:!0})});let n=e.productCollection&&(0,t.jsx)(p.StyledGridItem,{children:(0,t.jsxs)(u.HStack,{gap:"0.25rem",overflow:"hidden",w:"fit",children:[(0,t.jsx)(d.ImageIcon,{alt:e.productCollection.name,size:16,src:e.productCollection.icon}),(0,t.jsx)(o.Text,{color:"gray.10",fontWeight:"medium",overflow:"hidden",size:"sm",textOverflow:"ellipsis",w:"full",whiteSpace:"nowrap",children:e.productCollection.name})]})}),a=(0,t.jsxs)(o.Text,{color:"gray.text",fontWeight:"bold",lineClamp:"2",size:"lg",children:[(0,t.jsx)(d.ImageIcon,{alt:e.productName?.name,size:20,src:e.productName?.icon})," ",e.productName?.name]}),l=(0,t.jsx)(p.StyledGridItem,{justifyContent:e.isStacked?"start":"end",children:(0,t.jsx)(g.Pricing,{...e.productPrice})});return i?(0,t.jsx)("div",{className:(0,s.css)({w:"full"}),children:(0,t.jsxs)(p.StyledGrid,{isStacked:e.isStacked,layout:r(),children:[(0,t.jsx)(p.StyledGridItem,{children:(0,t.jsx)(h.ProductGifting,{...e.productGifting})}),n,(0,t.jsx)(p.StyledGridItem,{children:(0,t.jsx)(c.default,{className:(0,s.css)({cursor:"pointer",_hover:{opacity:.8},transition:"opacity"}),href:e.href??"",onClick:t=>!e.href&&t.preventDefault(),prefetch:!1,children:a})}),l]})}):(0,t.jsx)(c.default,{className:(0,s.css)({w:"full"}),href:e.href??"",onClick:t=>!e.href&&t.preventDefault(),prefetch:!1,children:(0,t.jsxs)(p.StyledGrid,{isStacked:e.isStacked,layout:r(),children:[(e.productGifting||e.badge)&&(0,t.jsx)(p.StyledGridItem,{children:e.productGifting?(0,t.jsx)(h.ProductGifting,{...e.productGifting}):e.badge?(0,t.jsx)(f.Badge,{colorPalette:e.badge.colorPalette,icon:e.badge.icon,text:e.badge.text}):null}),(!e.productGifting||e.productCollection)&&n,(0,t.jsx)(p.StyledGridItem,{children:a}),l]})})};var y=e.i(387456),x=e.i(243426);e.s(["ProductDisplay",0,e=>{let{addPackageMutation:c,removePackageMutation:u,handleAddToBasket:d,handleRemoveFromBasket:h,handleGift:p,isInBasket:f}=(0,x.usePackage)(e.productData,e.basketData),g=(0,i.useRef)(null),v=(0,i.useRef)(null),S=(0,i.useRef)(null),b=f?u.isPending:c.isPending,R=e.addedVia||"product-display",k=e.productData?.id,j=e.productData?.slug,C=k&&j?`/products/${k}/${j}?addedVia=${R}`:"#",T=!e.isLineItem;return(0,t.jsxs)(n.Center,{className:"group",cursor:T?"pointer":void 0,flexDir:e.isLineItem?"row":"column",gap:"1rem",onClick:T?t=>{g.current?.contains(t.target)||v.current?.contains(t.target)||S.current?.contains(t.target)||e.onClick?.()}:void 0,w:"full",children:[(0,t.jsx)(y.ProductMedia,{...e,actionsRef:g,colorSelectorRef:v,discountPercentage:e.discountPercentage,href:C,isBasketPending:b,isInBasket:f,onBasketClick:()=>f?h():d(`${R}:quick`),onGiftClick:()=>p(`${R}:quick`),showDiscountBadge:e.showDiscountBadge}),(0,t.jsx)(m,{...e,href:C,isStacked:!(e.isFeatured||e.isLineItem)}),!e.hideRemove&&e.isLineItem&&(0,t.jsxs)(l.Tooltip.Root,{closeDelay:150,openDelay:250,children:[(0,t.jsx)(l.Tooltip.Trigger,{asChild:!0,children:(0,t.jsx)("button",{className:`group ${(0,s.css)({p:"0.5rem",pl:"0",cursor:"pointer"})}`,onClick:()=>{let{uuid:t}=e.productGifting??{};h(t)},ref:S,type:"button",children:(0,t.jsx)(a.Icon,{_groupHover:{color:"gray.text!"},color:"gray.11!",height:"1rem",icon:r.PiMultipleCrossCancelCircleSolid,transition:"colors",width:"1rem"})})}),(0,t.jsx)(l.Tooltip.Positioner,{children:(0,t.jsx)(l.Tooltip.Content,{children:(0,t.jsxs)(o.Text,{children:["Remove ",e.productName?.name," from basket"]})})})]})]})}],802759)}]);

//# debugId=926201a1-84bc-0867-c00e-c3e4e9ae5b93
//# sourceMappingURL=bffb2271b7461515.js.map